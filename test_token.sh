#!/bin/bash

# Replace with your actual access token (do not wrap in quotes inside curl)
ACCESS_TOKEN="eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJyZDZlYV9GdVNWZGxoLTF4eV9BSVlUY3ZtcW1hUHdQUzBEbXVtNzY0T080In0.eyJleHAiOjE3NDg2NjczODEsImlhdCI6MTc0ODY2NzA4MSwianRpIjoiMDU0MTEyZDktNWU1Yy00NDA5LWFhYmYtMmUxMTRkOTNhYTkxIiwiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo4MDgwL3JlYWxtcy9mbGFzay1yZWFsbSIsImF1ZCI6ImFjY291bnQiLCJzdWIiOiI3NWE0ODM2Yy1mM2MxLTRlOTgtODE3Zi1jZTEyOWYyMDRkZTAiLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJmbGFzay1jbGllbnQiLCJzZXNzaW9uX3N0YXRlIjoiYjlkZGYyMGQtMWE0YS00ZDRjLTg3MDQtY2VmNGU2NzEzOGZjIiwiYWNyIjoiMSIsInJlYWxtX2FjY2VzcyI6eyJyb2xlcyI6WyJkZWZhdWx0LXJvbGVzLWZsYXNrLXJlYWxtIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiJdfSwicmVzb3VyY2VfYWNjZXNzIjp7ImFjY291bnQiOnsicm9sZXMiOlsibWFuYWdlLWFjY291bnQiLCJtYW5hZ2UtYWNjb3VudC1saW5rcyIsInZpZXctcHJvZmlsZSJdfX0sInNjb3BlIjoiZW1haWwgcHJvZmlsZSIsInNpZCI6ImI5ZGRmMjBkLTFhNGEtNGQ0Yy04NzA0LWNlZjRlNjcxMzhmYyIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJuYW1lIjoiVGVzdCBVc2VyIiwicHJlZmVycmVkX3VzZXJuYW1lIjoidGVzdHVzZXIiLCJnaXZlbl9uYW1lIjoiVGVzdCIsImZhbWlseV9uYW1lIjoiVXNlciIsImVtYWlsIjoidGVzdHVzZXJAbWFpbC5jb20ifQ.yNf_23UHu0-RMpEL-EUE4Mqd6ix6I1CKBKXwPBLA6BBVUNiAq7PYGzWdiNJ3AFNtvmW0c7EihZ6qz3XEUlzSWPWUgze9hsXKsFY7uuzriEeXqEB5m-q-76LCHO2yeq935SBYRSPAmDUSULRk_0y-gYby5hPvDw-mOK8ZrI-qqFhlzBmfWQnr_ckWpsXvaDS7QTNQ6YYZUTpWZVSJxMsW8WgOFbjBByQcGy-XO5Y3E7PfMHAXlZNFrSdkoEkXxXlUAlufuc_wD1yiAafS0PjH2m4-C3nSdKFv39YA_FF6jQqsHTtqvwbFOtyihl30-66TwaK6JYZPs5ZkQDCVptPpzQ"

# Hit the Flask API
echo "> Calling protected endpoint at http://localhost:5000/protected ..."
curl -s -H "Authorization: Bearer $ACCESS_TOKEN" http://localhost:5001/protected
echo -e "\n> DONE âœ…"

